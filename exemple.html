<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Coucou</title>
        <script>
            class MyApp {
              constructor(now) {
                this.date = [now.getDate()+"/"+(now.getMonth()+1)+"/"+(now.getYear()+1900)];
                this.heure = [now.getHours()+"h"+now.getMinutes()];
                this.site = document.location.href;;
                this.inputs = null;
              }
              listing() {
                var clef1000 = Array.prototype.slice.call(document.getElementsByTagName('input'),0);
                console.log(clef1000);
              }
              decrire() {
                return `Le ${this.date} a ${this.heure}, le site : ${this.site} a était visité. \nIl contenait ces inputs: ${this.inputs}`;
              }
            }

            const hasard = new MyApp(new Date());

            console.log(hasard);
            hasard.listing()
            console.log(hasard.decrire())
            function ajaxPost(url, data) {
                var req = new XMLHttpRequest();
                req.open("POST", url);
                req.addEventListener("load", function () {
                    if (req.status < 200) {
                        console.error(req.status + " " + req.statusText + " " + url);
                    } if (req.status > 400) {
                        console.error(req.status + " " + req.statusText + " " + url);
                    }
                    
                });
                req.addEventListener("error", function () {
                    console.error("Erreur réseau avec l'URL " + url);
                });
                req.send(data);
            }


        </script>
    </head>
    <body>

    </body>
</html>